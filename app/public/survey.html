<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<style type="text/css">
	select{
		width: 75px;
	}
	</style>
</head>
<body>
  <!-- Setup the jumbotron and add a button to search -->
	<div class="container">
		<div class="jumbotron" style='background-color: #f1f1f1'>
			<h1 class="text-center"><span class="glyphicon glyphicon-user"></span>Friend Finder</h1>
			<hr>
			<h2 class="text-center">Meet someone new to be friends with.</h2>
			<br>

			<div class="text-center">
				<a href="/survey"><button type="button" class="btn btn-lg btn"><span class="glyphicon glyphicon-search"></span>Find A Friend</button></a>
			</div>

		</div>
		<div class='survey'>
		<form class="form-horizontal">
		  <div class="form-group">
      		<label for="name">Name</label>
      		<input type="text" name="name" id="name">
    	  </div>
		  <div class="form-group">
      		<label for="gender">Gender</label>
      		<select id="gender" name="gender" class="form-control">
      		  <option>Male</option>
      		  <option>Female</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="pic">Picture URL</label>
      		<input type="text" name="pic" id="pic">
    	  </div>
		  <div class="form-group">
      		<label for="ques0">The things I have define me</label>
      		<select id="ques0" name="ques0" class="form-control">
      		  <option>1 - Strongly Disagree</option>
      		  <option>2</option>
      		  <option>3</option>
      		  <option>4</option>
      		  <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
		  <div class="form-group">
      		<label for="ques1">I want/have children</label>
      		<select id="ques1" name="ques1" class="form-control">
      		  <option>1 - Strongly Disagree</option>
      		  <option>2</option>
      		  <option>3</option>
      		  <option>4</option>
      		  <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques2">Goals are an important part of life</label>
      		<select id="ques2" name="ques2" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques3">Money isn't everything</label>
      		<select id="ques3" name="ques3" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques4">Mean people suck</label>
      		<select id="ques4" name="ques4" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques5">I love a night in on the couch watching Netflix</label>
      		<select id="ques5" name="ques5" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques6">I often find myself enjoying the outdoors</label>
      		<select id="ques6" name="ques6" class="form-control">
      		 <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques7">I love to go out to bars and night clubs</label>
      		<select id="ques7" name="ques7" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques8">Helping someone else is more important than money</label>
      		<select id="ques8" name="ques8" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <div class="form-group">
      		<label for="ques9">I make responsible financial descisions</label>
      		<select id="ques9" name="ques9" class="form-control">
      		  <option>1 - Strongly Disagree</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 - Strongly Agree</option>
      		</select>
    	  </div>
    	  <button class="btn btn-danger" id="submit">Submit</button>
		</form>
		</div>

    <footer class="footer">
	        <p><a href="/api/friends">Click Here for your friends</a></p>
    </footer>


</body>
</html>
<script type="text/javascript">
	$("#submit").on("click", function(){
		var url = window.location.origin + '/api/friends';
		var scores = [];
		for(var i=0; i<10; i++){
			scores.push(parseInt($("#ques"+i).val()));
		};
		console.log(url)
		var newFriend = {
			name: $("#name").val(),
			gender: $("#gender").val(),
			scores: scores,
			pic: $("#pic").val()
		};
		$.post(url, newFriend, function(data){
			console.log(data)
			$(".survey").html("<div class='text-center'><h2 style='color: red'>Your Match!</h2></div><div class='text-center'><h2>"+data.name+"</h2></div><div class='text-center'>"+data.gender+"</div><img src='"+data.pic+"'>");
		});
		$("#name").val("");
		$("#gender").val("");
		$("#pic").val("");
		for(var i=0; i<10; i++){
			$("#ques"+i).val("");
		};
		return false;
	});
</script>